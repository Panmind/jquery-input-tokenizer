<html>
  <head>
    <title>PmTokenizer Demo</title>
    <link rel="stylesheet" href="css/pmtokenizer.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="lib/underscore.js"></script>
    <script type="text/javascript" src="src/jquery.pmtokenizer.js"></script>
    <script type="text/javascript" charset="utf-8">

    $(function() {
      var data = [
        { id : 1, label : 'Mario', image : 'href://www.google.com/' },
        { id : 2, label : 'Michele', image : 'href://www.google.com/' },
        { id : 3, label : 'Andrea', image : 'href://www.google.com/' },
        { id : 4, label : 'Romolo', image : 'href://www.google.com/' },
        { id : 5, label : 'Quirino', image : 'href://www.google.com/' },
        { id : 6, label : 'Numa', image : 'href://www.google.com/' },
        { id : 7, label : 'Castore', image : 'href://www.google.com/' },
        { id : 8, label : 'Polluce', image : 'href://www.google.com/' },
        { id : 9, label : 'Enea', image : 'href://www.google.com/' },
        { id : 10, label : 'Virgilio', image : 'href://www.google.com/' }
        ] ; 

        function log(data, level) {
          if (_.isString(data)) {
            $('#logs').text($('#logs').text() + '\n' + level + ' --- ' + data);
          } else {
            var string = [data.id, data.label].join(' - ');
            $('#logs').text($('#logs').text() + '\n' + level + ' --- ' + string);
          }
        };

        $('#demo1').pmTokenizer({source : data,
          handleValid : function(data) {
            log(data, 'info');
          }, 
          handleInvalid : function(data) {
            log(data, 'error');
          }
        });
    });
    </script>
  </head>
  <body>
    <h1 id="demo">Demo</h1>    
    <input type="text" id="demo1" />

    <h2>Events</h2>
    <textarea cols="100" rows="40" id="logs" readonly="readonly"></textarea>
  </body>
</html>
